spring:
  application:
    name: sirha
  data:
    mongodb:
      uri: ${MONGODB_URI:mongodb://localhost:27017}
      database: ${MONGODB_DATABASE:SIRHA}
  jackson:
    default-property-inclusion: non_null
  main:
    banner-mode: off

server:
  port: ${SERVER_PORT:8081}
  error:
    include-message: always
    include-binding-errors: always

logging:
  pattern:
    console: "%d{yyyy-MM-dd'T'HH:mm:ss.SSS} %-5level [%thread] %logger{36} - %msg%n"
  level:
    root: INFO
    org.springframework.data.mongodb.core.MongoTemplate: DEBUG

management:
  endpoints:
    web:
      exposure:
        include: health,info,metrics,threaddump,loggers
  endpoint:
    health:
      probes:
        enabled: true
      show-details: when_authorized

sirha:
  security:
    jwt:
      issuer: sirha
      expiration-minutes: ${JWT_EXPIRATION_MINUTES:60}
      secret: ${JWT_SECRET}  # REQUERIDO - No hay valor por defecto
  solicitudes:
    dias-max-respuesta: ${DIAS_MAX_RESPUESTA:5}
  admin:
    # Configuraci贸n del usuario ADMIN inicial (solo para primera instalaci贸n)
    # Estos valores deben venir de variables de entorno por seguridad
    email: ${SIRHA_ADMIN_EMAIL:#{null}}
    password: ${SIRHA_ADMIN_PASSWORD:#{null}}
    name: ${SIRHA_ADMIN_NAME:#{null}}

---
spring:
  config:
    activate:
      on-profile: test
  data:
    mongodb:
      uri: mongodb://localhost:27017/sirha-test
      database: sirha-test

sirha:
  security:
    jwt:
      secret: test-secret-key-for-testing-purposes-only-min-256-bits
  admin:
    email: admin@test.local
    password: TestAdmin123!
    name: Admin Test

---
spring:
  config:
    activate:
      on-profile: development
  data:
    mongodb:
      uri: ${MONGODB_URI:mongodb://localhost:27017}
      database: ${MONGODB_DATABASE:SIRHA-dev}

logging:
  level:
    root: DEBUG
    edu.dosw.sirha: DEBUG

---
spring:
  config:
    activate:
      on-profile: production

logging:
  level:
    root: WARN
    edu.dosw.sirha: INFO

# En producci贸n, TODAS las variables deben venir del entorno
# NO usar valores por defecto en producci贸n